# pre-commit â€“ run before each commit
# Install: pip install pre-commit && pre-commit install
# Run manually: pre-commit run --all-files
# https://pre-commit.com

repos:
  # General
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.5.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-json
      - id: check-added-large-files
        args: ["--maxkb=500"]
      - id: detect-private-key

  # Secrets (no API key; uses heuristics)
  - repo: https://github.com/Yelp/detect-secrets
    rev: v1.4.0
    hooks:
      - id: detect-secrets
        args: ["--baseline", ".secrets.baseline"]
        exclude: |
          (?x)^(
            .*node_modules.*|
            .*\.terraform.*|
            .*\.(tfstate|tfstate\..*)|
            .*package-lock\.json|
            .*\.min\.js|
            .*\.zip
          )$

  # Optional: GitGuardian ggshield (requires GITGUARDIAN_API_KEY in env)
  # - repo: https://github.com/GitGuardian/ggshield
  #   rev: v1.26.0
  #   hooks:
  #     - id: ggshield
  #       language_version: python3
